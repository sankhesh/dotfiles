- defaults:
    link:
      create: true
      relink: true

- clean: [
  '~',
  '~/.config',
  '~/.vim'
]

- link:
    ~/.vim: vim/
    ~/.vimrc: vimrc
    ~/.tmux: tmux
    ~/.tmux.conf: tmux.conf

- shell:
    - git submodule update --init --recursive # Installing submodules
    - git config --global core.excludesfile ~/.vim/global_ignore # Ignore certain filetypes from git
    - command: vim +PluginInstall +PluginUpdate +qall # Fetch VIM plugins
      #stderr: true
    - command: ~/.vim/bundle/YouCompleteMe/install.py --clang-completer # Install YouCompleteme
      stderr: true
    - command: type tmux && { ~/.tmux/plugins/tpm/bin/install_plugins } || { exit 0 } # Install TMUX plugins
      stderr: true
    - command: type tmux && { ~/.tmux/plugins/tpm/bin/update_plugins all } || { exit 0 } # Update TMUX plugins
      stderr: true
    - command: ./vim_pyclewn.sh # Install the pyclewn vim plugin
      stdout: true
      stderr: true

- link:
    ~/.bash_profile: bash_profile
    ~/.bash_prompt: bash_prompt
    ~/.config/terminator:
      path: config/terminator/
    ~/.vim/colors: vim/bundle/vim-atom-dark/colors/
    ~/.zlogin: zsh/prezto/runcoms/zlogin
    ~/.zlogout: zsh/zlogout
    ~/.zprofile: zsh/prezto/runcoms/zprofile
    ~/.zshenv: zsh/prezto/runcoms/zshenv
    ~/.zshrc: zsh/zshrc
    ~/.zpreztorc: zsh/zpreztorc
    ~/.zprezto: zsh/prezto
    ~/.config/flake8: config/flake8
    ~/.monitor.sh: monitor.sh
